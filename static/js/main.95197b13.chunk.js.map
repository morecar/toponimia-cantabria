{"version":3,"sources":["staticData/googleCredentials.js","model/pointRepository.js","model/pointRepositoryFactory.js","staticData/localization.js","components/SearchBar.js","components/SettingsTooltip.js","components/TagsContainer.js","components/MapMarker.js","staticData/constants.js","components/ResultsMap.js","components/ResultsPage.js","components/CaptureMap.js","App.js","model/configService.js","index.js"],"names":["GOOGLE_SHEETS_API_KEY","PointRepository","database","this","_","orderBy","pattern","sanitizeInput","searchPattern","preprocessPattern","regex","RegExp","filter","entry","test","title","value","tags","Set","map","forEach","tag","add","Array","from","replace","googleSheet","a","shouldReload","reloadLocalDatabase","then","localDatabase","Promise","resolve","JSON","parse","localStorage","getItem","remoteElementCount","rowCount","getRows","rows","remoteDatabase","row","name","type","coordinates","trim","split","pair","parseFloat","setItem","stringify","reload","parseInt","console","log","BRAND_NAME","ast","esp","BRAND_ALT","SEARCH_PLACEHOLDER","SearchBar","props","searchBar","React","createRef","state","rawQuery","searchString","searchBoxContents","event","preventDefault","query","current","onSearch","config","searchAutocompleteUnderdoth","match","offset","string","startsWith","Form","inline","onSubmit","handleSearch","bind","FormControl","onChange","handleChange","placeholder","language","ref","Component","SettingsTooltip","target","id","checked","resultsTitle","resultsTags","resultsTypes","e","searchAutocompleteTags","searchDisplayTagPalette","onSettingsUpdated","popOverProps","pointRepository","Popover","onClick","Content","Group","handleToggleChanged","Label","Check","defaultChecked","label","disabled","includes","TagsContainer","Tooltip","permanent","direction","className","Object","keys","key","Badge","variant","getLabel","endsWith","pop","MapMarker","Marker","position","Popup","displayTags","CENTER_CANTABRIA","getCentroid","arr","reduce","x","y","length","ResultsMap","blackOptions","color","MapContainer","center","zoom","scrollWheelZoom","zoomControl","dragging","TileLayer","attribution","url","points","polys","Polygon","pathOptions","positions","lines","Polyline","ResultsPage","search","displayLines","displayPolys","displayPoints","retultsToDisplay","setState","point","Container","Navbar","fixed","bg","expand","Brand","src","alt","Collapse","Nav","updateResults","getAllTags","NavItem","OverlayTrigger","trigger","placement","overlay","handleSettingsUpdated","style","LocationMarker","useMapEvents","click","latlng","lat","lng","CaptureMap","searchBoxRef","newPoints","newPointsLength","dashArray","registerLocation","App","path","children","repository","ConfigService","localConfig","getDefaultConfig","saveToLocalStorage","lang","results_title","results_tags","results_types","search_autocomplete_underdoth","search_autocomplete_tags","search_display_tag_palette","newLanguage","newResultsTitle","newResultsTags","newResultsTypes","newSearchAutocompleteUnderdoth","newSearchAutocompleteTags","newSearchDisplayTagPalette","doc","GoogleSpreadsheet","useApiKey","loadInfo","sheetsById","login","loadData","sheet","buildRepositoryFrom","ReactDOM","render","document","getElementById","startApp"],"mappings":"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","file":"static/js/main.95197b13.chunk.js","sourcesContent":["export const GOOGLE_SHEETS_API_KEY = 'AIzaSyBl_GJjcKmg4Lk0dWPLzGX6bXpT0vXW5R0'\n\nexport const GOOGLE_DOC_ID = '1Rd8TQOp2hSBOxhSeAaLeb_faICF2_oAv2-jtn2vgXrY'\nexport const GOOGLE_SHEET_ID = '0'\n\n","import _ from 'lodash'\n\nexport default class PointRepository {\n\n    constructor(database) {\n        this.database = _(database).orderBy(['title'])\n    }\n\n    search(pattern, sanitizeInput=true) {\n        var searchPattern = sanitizeInput ? this.preprocessPattern(pattern) : pattern\n        let regex = RegExp(searchPattern, 'i')\n\n        return this.database.filter(entry => regex.test(entry.title)).value()\n    }\n\n    getAllTags() {\n        let tags = new Set()\n        this.database.map(entry => entry.tags).forEach(tag => tags.add(tag))\n        return Array.from(tags)\n    }\n\n    preprocessPattern(pattern){\n        var temp = pattern.replace(\"a\", \"([áa])\")\n                            .replace(\"e\", \"([ée])\")\n                            .replace(\"i\", \"([íi])\")\n                            .replace(\"o\", \"([óo])\")\n                            .replace(\"u\", \"([úu])\")\n        return temp;\n    }\n}","import PointRepository from './pointRepository'\n\nexport async function  buildRepositoryFrom(googleSheet) {\n    return shouldReload(googleSheet) \n        ? reloadLocalDatabase(googleSheet).then(localDatabase => new PointRepository(localDatabase))\n        : Promise.resolve(new PointRepository(JSON.parse(localStorage.getItem(\"localIndex\"))))\n}\n\nasync function reloadLocalDatabase(googleSheet) {\n    const remoteElementCount = googleSheet.rowCount\n    return googleSheet.getRows().then(rows => {\n        const remoteDatabase = rows.map(row => ({ title: row.name, type: row.type, coordinates: row.coordinates.trim().split(';').map(pair => pair.trim().split(',').map(parseFloat)), tags: row.tags.split(',')}))\n        localStorage.setItem(\"localIndex\", JSON.stringify(remoteDatabase) )\n        localStorage.setItem(\"localIndexSize\", remoteElementCount)\n    })\n}\n\nfunction shouldReload(googleSheet) {\n    const localStorageElementCount = parseInt(localStorage.getItem(\"localIndexSize\"))\n    const remoteDbElementCount = parseInt(googleSheet.rowCount)\n\n    const reload = localStorageElementCount !== remoteDbElementCount\n\n    console.log(`Database: reload=${reload}`)\n    return reload\n}","export const ROUTE_HOME = '/'\nexport const ROUTE_CAPTURE = '/nuivu'\n\nexport const NEW_MS = {ast: 'Nuivu', esp: 'Nuevo'}\nexport const BRAND_NAME = {ast: \"L'Unicurniu\", esp: \"L'Unicurniu\"}\nexport const BRAND_ALT = {ast: 'Imagin de cabeza di unicurniu', esp: 'Imagen de cabeza de unicornio'}\n\nexport const SEARCH_PLACEHOLDER = {ast: 'Búsqueda con regexp…', esp: 'Búsqueda con regexp…'}","import React, { Component} from 'react';\n\nimport Form from 'react-bootstrap/Form'\nimport FormControl from 'react-bootstrap/FormControl'\n\nimport {SEARCH_PLACEHOLDER} from '../staticData/localization'\n\nexport default class SearchBar extends Component {\n    constructor(props) {\n      super(props);\n      this.searchBar = React.createRef()\n  \n      this.state = {\n        tags: [],\n        rawQuery: \"\",\n        searchString: this.props.searchBoxContents\n      }\n    }\n    \n    handleSearch(event) {\n        event.preventDefault();\n        var query = this.searchBar.current.value.trim()\n        this.props.onSearch(query)\n    }\n\n    handleChange(event) {\n        if(this.props.config.searchAutocompleteUnderdoth) {\n            let regex = RegExp(/h\\.\\S/, 'i')\n            this.searchBar.current.value = this.searchBar.current.value.replace(regex, (match, offset, string) => {return match.startsWith('h') ? `ḥ${string[offset+2]}` : `Ḥ${[offset+2]}` })\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <Form inline onSubmit={this.handleSearch.bind(this)}>\n                    <FormControl type=\"text\" onChange={this.handleChange.bind(this)} placeholder={SEARCH_PLACEHOLDER[this.props.config.language]} ref={this.searchBar}/>\n                </Form>\n            </div>\n        )\n    }\n}","import React, { Component} from 'react';\n\nimport Form from 'react-bootstrap/Form'\nimport Popover from 'react-bootstrap/Popover'\n\nexport default class SettingsTooltip extends Component {\n\n\n    handleToggleChanged(event) {\n        if(event.target.id === 'show-title-always' && event.target.checked) this.props.config.resultsTitle = 'always'\n        if(event.target.id === 'show-title-search' && event.target.checked) this.props.config.resultsTitle = 'search'\n        if(event.target.id === 'show-title-never' && event.target.checked) this.props.config.resultsTitle = 'never'\n\n        if(event.target.id === 'show-tags-always' && event.target.checked) this.props.config.resultsTags = 'always'\n        if(event.target.id === 'show-tags-search' && event.target.checked) this.props.config.resultsTags = 'search'\n        if(event.target.id === 'show-tags-never' && event.target.checked) this.props.config.resultsTags = 'never'\n\n        if(event.target.id === 'toggle-points')\n            this.props.config.resultsTypes =  event.target.checked\n                                                    ? Array.from(new Set(this.props.config.resultsTypes).add('point'))\n                                                    : this.props.config.resultsTypes.filter(e => e!=='point')\n\n        if(event.target.id === 'toggle-lines')\n            this.props.config.resultsTypes =  event.target.checked \n                                                    ? Array.from(new Set(this.props.config.resultsTypes).add('line'))\n                                                    : this.props.config.resultsTypes.filter(e => e!=='line')\n\n        if(event.target.id === 'toggle-polygons')\n            this.props.config.resultsTypes =  event.target.checked \n                                                    ? Array.from(new Set(this.props.config.resultsTypes).add('poly'))\n                                                    : this.props.config.resultsTypes.filter(e => e!=='poly')\n\n        if(event.target.id === 'toggle-underdoth') this.props.config.searchAutocompleteUnderdoth = event.target.checked\n        if(event.target.id === 'toggle-tag-auto') this.props.config.searchAutocompleteTags = event.target.checked   \n        if(event.target.id === 'toggle-tag-palette') this.props.config.searchDisplayTagPalette = event.target.checked  \n        \n        this.props.onSettingsUpdated()\n    }\n\n    render() {\n        const { pointRepository, searchBoxContents, onSettingsUpdated, ...popOverProps} = this.props\n        return (         \n              <Popover {...popOverProps} onClick={(event)=>{}}>\n                <Popover.Content>\n                  <Form>\n                    <Form.Group onChange={this.handleToggleChanged.bind(this)}>\n                        <Form.Label><b>Veyer tupúnimu</b></Form.Label>\n                        <div>\n                            <Form.Check defaultChecked={this.props.config.resultsTitle === 'always'} label='Siempri' type='radio' id='show-title-always' name='showTitle' disabled/>\n                            <Form.Check defaultChecked={this.props.config.resultsTitle === 'search'} label='In búsquedas' type='radio' id='show-title-search' name='showTitle' disabled/>\n                            <Form.Check defaultChecked={this.props.config.resultsTitle === 'never'} label='In cliquiandu' type='radio' id='show-title-never' name='showTitle' disabled/>\n                        </div>\n                    </Form.Group>\n                    <Form.Group onChange={this.handleToggleChanged.bind(this)}>\n                        <Form.Label><b>Veyer etiquetas</b></Form.Label>\n                        <div>   \n                            <Form.Check defaultChecked={this.props.config.resultsTags === 'always'} label='Siempri' type='radio' id='show-tags-always' name='showTags'/>\n                            <Form.Check defaultChecked={this.props.config.resultsTags === 'search'} label='In búsquedas' type='radio' id='show-tags-search' name='showTags'/>\n                            <Form.Check defaultChecked={this.props.config.resultsTags === 'never'} label='Desactivás' type='radio' id='show-tags-never' name='showTags'/>\n                            \n                        </div>\n                    </Form.Group>\n                    <Form.Group onChange={this.handleToggleChanged.bind(this)}>\n                        <Form.Label><b>Clas de resultáus</b></Form.Label>\n                        <div>                          \n                            <Form.Check inline defaultChecked={this.props.config.resultsTypes.includes('point')} label='Puntualis' type={'checkbox'} id={'toggle-points'} />\n                            <Form.Check inline defaultChecked={this.props.config.resultsTypes.includes('line')} label='Linialis' type={'checkbox'} id={'toggle-lines'} disabled/>\n                            <Form.Check inline defaultChecked={this.props.config.resultsTypes.includes('poly')} label='Zonalis' type={'checkbox'}  id={'toggle-polygons'} disabled/>\n                        </div>\n                    </Form.Group>\n                    <Form.Group onChange={this.handleToggleChanged.bind(this)}>\n                        <Form.Label><b>Otrus</b></Form.Label>\n                        <Form.Check defaultChecked={this.props.config.searchAutocompleteUnderdoth} type='switch' id='toggle-underdoth' label='Detectar hachi supuntiá (h.→ḥ)'/>\n                        <Form.Check defaultChecked={this.props.config.searchAutocompleteTags} type='switch' id='toggle-tag-auto' label='Autucompletar etiquetas' disabled/>\n                        <Form.Check defaultChecked={this.props.config.searchDisplayTagPalette} type='switch' id='toggle-tag-palette' label='Veyer paleta etiquetas' disabled/>\n                    </Form.Group>\n                  </Form>\n                </Popover.Content>\n              </Popover>\n        )\n    }\n}\n\n","import {Tooltip} from 'react-leaflet'\nimport Badge from 'react-bootstrap/Badge'\n\nexport default function TagsContainer(props) {\n    return (\n        <Tooltip permanent={true} direction={'bottom'} offset={[-15, 20]} className={\"tagsContainer\"}>\n            {\n                Object.keys(props.tags).map(function(key) {\n                    return  <span key={key}><Badge variant={\"primary\"}>{getLabel(props.tags[key])}</Badge>{' '}</span>\n                })\n            }\n        </Tooltip>\n    );\n  }\n\nfunction getLabel(tag) {\n    if(tag.startsWith(\"etymology\")) {\n        if(tag.endsWith(\"celtic\")) return \"Et: Celta\"\n        if(tag.endsWith(\"romance\")) return \"Et: Romanci\"\n    }\n    if(tag.startsWith(\"phonology\")) {\n        if(tag.endsWith(\"metaphony_u\")) return \"Metafunía U\"\n        if(tag.endsWith(\"aspirate_f\")) return \"F aspiráu\"\n        if(tag.endsWith(\"b_g\")) return \"Cambiu B > G\"\n        if(tag.endsWith(\"lost_f\")) return \"F mudu\"\n    }\n\n    return tag.split(':').pop()\n} ","import { Marker, Popup} from 'react-leaflet'\n\nimport TagsContainer from './TagsContainer'\n\nexport default function MapMarker(props) {\n    return (\n        <Marker position={props.position}>\n            <Popup>{props.title}</Popup>\n            {props.displayTags?<TagsContainer tags={props.tags}/>:null}\n        </Marker>\n    );\n  }","export const CENTER_CANTABRIA = [43.19775063914452, -4.029390585676174]","import { MapContainer, TileLayer, Polyline, Polygon} from 'react-leaflet'\n\nimport MapMarker from './MapMarker';\n\nimport {CENTER_CANTABRIA} from '../staticData/constants'\n\nfunction getCentroid(arr) { \n    return arr.reduce(function (x,y) {\n        return [x[0] + y[0]/arr.length, x[1] + y[1]/arr.length] \n    }, [0,0]) \n}\n\nexport default function ResultsMap(props) {\n    const blackOptions = { color: 'black' }\n    return (\n        <MapContainer center={CENTER_CANTABRIA} zoom={10} scrollWheelZoom={true} zoomControl={false} dragging={true}>   \n          <TileLayer\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          />\n          {\n            Object.keys(props.points).map(function(key) {\n              return <MapMarker displayTags={props.displayTags} key={key} position={props.points[key].coordinates[0]} {...props.points[key]}/>\n            })\n          }\n          {\n            Object.keys(props.polys).map(function(key) {\n              return <div key={key}>\n                      <Polygon pathOptions={blackOptions} positions={props.polys[key].coordinates} />\n                      <MapMarker displayTags={props.displayTags} key={key} position={getCentroid(props.polys[key].coordinates)} {...props.polys[key]}/>\n                    </div>\n            })\n          }\n          {\n            Object.keys(props.lines).map(function(key) {\n              return <div key={key}>\n                      <Polyline pathOptions={blackOptions} positions={props.lines[key].coordinates} />\n                      <MapMarker displayTags={props.displayTags} key={key} position={getCentroid(props.lines[key].coordinates)} {...props.lines[key]}/>\n                    </div>\n            })\n          }\n        </MapContainer>\n    );\n}","import React, { Component} from 'react';\n\nimport {Container, Navbar, Nav, NavItem, OverlayTrigger} from 'react-bootstrap';\nimport {Toggles} from 'react-bootstrap-icons';\n\nimport SearchBar from './SearchBar'\nimport SettingsTooltip from './SettingsTooltip'\n\nimport {BRAND_ALT, BRAND_NAME} from '../staticData/localization'\nimport ResultsMap from './ResultsMap';\n\nexport default class ResultsPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: this.props.searchBoxContents ? true : false,\n      displayTags: (this.props.config.resultsTags === 'always') || (this.props.config.resultsTags === 'search' && this.props.searchBoxContents),\n      displayLines: (this.props.config.resultsTypes.includes('line')),\n      displayPolys: (this.props.config.resultsTypes.includes('poly')),\n      displayPoints: (this.props.config.resultsTypes.includes('point')),\n      retultsToDisplay: this.props.pointRepository.search(this.props.searchBoxContents)\n    }\n  }\n\n  updateResults(searchString) {\n    console.log(`searchstring=${searchString} => search=${searchString ? true : false}`)\n    this.setState( {\n      search: searchString ? true : false,\n      displayTags: (this.props.config.resultsTags === 'always') || (this.props.config.resultsTags === 'search' && searchString ? true : false),\n      retultsToDisplay: this.props.pointRepository.search(searchString, false)\n    })\n  }\n\n  handleSettingsUpdated() {\n    this.setState(\n      {\n        displayTags: (this.props.config.resultsTags === 'always') || (this.props.config.resultsTags === 'search' && this.state.search),\n        displayLines: (this.props.config.resultsTypes.includes('line')),\n        displayPolys: (this.props.config.resultsTypes.includes('poly')),\n        displayPoints: (this.props.config.resultsTypes.includes('point')),\n      }\n    )\n  }\n\n  render() {\n    const points = this.state.displayPoints ? this.state.retultsToDisplay.filter(point => point.type === 'point') : []\n    const polys = this.state.displayPolys ? this.state.retultsToDisplay.filter(point => point.type === 'poly') : []\n    const lines = this.state.displayLines ? this.state.retultsToDisplay.filter(point => point.type === 'line') : []\n    return (\n      <Container>\n        <Navbar fixed=\"top\"  bg=\"dark\" expand=\"lg\" variant=\"dark\">\n          <Navbar.Brand>\n            <img src=\"./unicorn.png\" alt={BRAND_ALT[this.props.config.language]}/>\n          </Navbar.Brand>          \n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"mr-auto\">\n              <Navbar.Brand className={'main-brand'}>{BRAND_NAME[this.props.config.language]}</Navbar.Brand>\n              <SearchBar onSearch={this.updateResults.bind(this)} tags={this.props.pointRepository.getAllTags()} {...this.props}/>\n              <NavItem id=\"settings\">\n              <OverlayTrigger trigger=\"click\" placement={'bottom'} overlay={<SettingsTooltip  onSettingsUpdated={this.handleSettingsUpdated.bind(this)} {...this.props}/>}> \n                  <Toggles style={{'fontSize': 'xx-large'}}/>\n              </OverlayTrigger>\n              </NavItem>\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n        <ResultsMap points={points} lines={lines} polys={polys} displayTags={this.state.displayTags} {...this.props}/>\n      </Container>\n    );\n  }\n}\n\n","import React, { Component} from 'react';\n\nimport Container from 'react-bootstrap/Container'\nimport Navbar from 'react-bootstrap/Navbar'\nimport { MapContainer, TileLayer, Marker, useMapEvents, Polyline } from 'react-leaflet'\n\nimport {CENTER_CANTABRIA} from '../staticData/constants'\n\n\nfunction LocationMarker(props) {\n  useMapEvents({\n    click(event) {\n      const { lat, lng } = event.latlng;\n      props.onClick([lat, lng])\n    }\n  })\n}\n\nexport default class CaptureMap extends Component {\n  constructor(props) {\n    super(props);\n    this.searchBoxRef = React.createRef()\n\n    this.state = {\n      newPoints : []\n    }\n  }\n\n\n  registerLocation(position) {\n    this.setState({ newPoints: [...this.state.newPoints, position]})\n  }\n\n\n  render() {\n    const blackOptions = { color: 'black' }\n    const limeOptions = { color: 'black', dashArray: \"4\" }\n    const newPointsLength = this.state.newPoints.length-1\n    return (\n      <Container>\n        <MapContainer center={CENTER_CANTABRIA} zoom={10} scrollWheelZoom={true} zoomControl={false} dragging={true}>\n          <TileLayer\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          />\n\n{\n            Object.keys(this.state.newPoints).map(function(key) {\n              return <Marker position={this.state.newPoints[key]} key={key}>\n              </Marker>\n            }.bind(this))\n           }\n\n        <Polyline pathOptions={blackOptions} positions={this.state.newPoints} />\n\n          {\n            this.state.newPoints.length > 2 \n            ? <Polyline pathOptions={limeOptions} positions={[this.state.newPoints[0], this.state.newPoints[newPointsLength]]} />\n            : null\n          }\n          <LocationMarker onClick={this.registerLocation.bind(this)}/>\n        </MapContainer>\n        <Navbar fixed=\"bottom\"  bg=\"dark\" expand=\"lg\" variant=\"dark\">\n          <Navbar.Brand>\n            <img src=\"./unicorn.png\" alt=\"Icunu di unicurniu encabritáu\"/>\n          </Navbar.Brand>          \n        </Navbar>\n      </Container>\n    );\n  }\n}","import './App.css';\n\nimport React from 'react';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\n\nimport ResultsPage from './components/ResultsPage'\nimport CaptureMap from './components/CaptureMap'\n\nimport {ROUTE_HOME, ROUTE_CAPTURE} from './staticData/localization.js'\n\nexport default function App(props) {\n    return (\n        <Router>\n            <Switch>\n                <Route path={ROUTE_CAPTURE} children={<CaptureMap pointRepository={props.repository} {...props} />} />\n                <Route path={ROUTE_HOME} children={<ResultsPage pointRepository={props.repository} searchBoxContents={\"\"} {...props} />} />\n            </Switch>\n        </Router>\n    )\n}\n\n\n\n\n","export default class ConfigService {\n    constructor() {\n        this.localConfig = localStorage.getItem(\"config\")\n        if(!this.localConfig) {\n            this.localConfig = this.getDefaultConfig()\n            this.saveToLocalStorage()\n        } else {\n            this.localConfig = JSON.parse(this.localConfig)\n        }\n    }\n\n    getDefaultConfig() {\n        return {\n            lang: 'ast',\n            results_title: 'never',\n            results_tags: 'search',\n            results_types: ['point'],\n            search_autocomplete_underdoth: true,\n            search_autocomplete_tags: false,\n            search_display_tag_palette: false\n          }\n    }\n\n    saveToLocalStorage() {\n        localStorage.setItem(\"config\", JSON.stringify(this.localConfig))\n    }\n\n    get language() {\n        return this.localConfig.lang\n    }\n\n    set language(newLanguage) {\n        this.localConfig.lang = newLanguage;\n        this.saveToLocalStorage()\n    }\n\n    get resultsTitle() {\n        return this.localConfig.results_title\n    }\n\n    set resultsTitle(newResultsTitle) {\n        this.localConfig.results_title = newResultsTitle;\n        this.saveToLocalStorage()\n    }\n\n    get resultsTags() {\n        return this.localConfig.results_tags\n    }\n\n    set resultsTags(newResultsTags) {\n        this.localConfig.results_tags = newResultsTags;\n        this.saveToLocalStorage()\n    }\n\n    get resultsTypes() {\n        return this.localConfig.results_types\n    }\n\n    set resultsTypes(newResultsTypes) {\n        this.localConfig.results_types = newResultsTypes;\n        this.saveToLocalStorage()\n    }\n\n    get searchAutocompleteUnderdoth() {\n        return this.localConfig.search_autocomplete_underdoth\n    }\n\n    set searchAutocompleteUnderdoth(newSearchAutocompleteUnderdoth) {\n        this.localConfig.search_autocomplete_underdoth = newSearchAutocompleteUnderdoth;\n        this.saveToLocalStorage()\n    }\n\n    get searchAutocompleteTags() {\n        return this.localConfig.search_autocomplete_tags\n    }\n\n    set searchAutocompleteTags(newSearchAutocompleteTags) {\n        this.localConfig.search_autocomplete_tags = newSearchAutocompleteTags;\n        this.saveToLocalStorage()\n    }\n\n    get searchDisplayTagPalette() {\n        return this.localConfig.search_display_tag_palette\n    }\n\n    set searchDisplayTagPalette(newSearchDisplayTagPalette) {\n        this.localConfig.search_display_tag_palette = newSearchDisplayTagPalette;\n        this.saveToLocalStorage()\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { GoogleSpreadsheet } from 'google-spreadsheet';\nimport { GOOGLE_DOC_ID, GOOGLE_SHEET_ID, GOOGLE_SHEETS_API_KEY } from './staticData/googleCredentials'\nimport { buildRepositoryFrom } from './model/pointRepositoryFactory'\n\nimport App from './App';\nimport ConfigService from './model/configService'\n\nconst doc = new GoogleSpreadsheet(GOOGLE_DOC_ID);\nasync function login() {\n  await doc.useApiKey(GOOGLE_SHEETS_API_KEY)\n  console.log(\"Authentication: API key\");\n}\n\nasync function loadData() {\n  await doc.loadInfo(); \n  console.log(`Datasource: loaded document ${doc.title}`);\n\n  return await doc.sheetsById[GOOGLE_SHEET_ID]\n}\n\nfunction startApp(repository) {\n  var config = new ConfigService()\n  ReactDOM.render(\n    // <React.StrictMode>\n      <App config={config} repository={repository}/>,\n    // </React.StrictMode>,\n    document.getElementById('root')\n  );\n}\n\nlogin().then(loadData().then(sheet => buildRepositoryFrom(sheet)).then(repository => startApp(repository)))\n\n"],"sourceRoot":""}